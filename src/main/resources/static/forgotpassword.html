<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Taxi Management | Forgot password</title>
    <link type="text/css" rel="stylesheet" href="plugins/bootstrap4/css/bootstrap.min.css">
    <link type="image/x-icon" rel="icon" href="css/images/favicon.ico">
    <script type="text/javascript" src="plugins/jQuery/jQuery-2.1.3.min.js"></script>
    <script type="text/javascript" src="plugins/bootstrap4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="plugins/jsonserialization/jquery.serializejson.min.js"></script>

    <link rel="stylesheet" href="css/all.min.css">
    <style>
        html, body{
            height: 100%;
        }
    </style>
</head>
<body>
<div class="d-flex align-items-center flex-column justify-content-center h-100">
    <h2 class="display-3">Taxi Management</h2>
    <h2 class="display-4">Forgot password</h2>

    <form id="forgotPasswordForm">
        <!--<div class="card bg-info text-white">
            <div class="card-body">Note: Confirm your username and mobile number to reset password!</div>
        </div>-->
        <br>
        <div class="form-group">
            <label for="username">Enter User name:</label>
            <input class="form-control form-control-lg" id="username" type="text" name="username" required autofocus placeholder="User name">
        </div>
        <div class="form-group">
            <label for="password">Enter Mobile number:</label>
            <input class="form-control form-control-lg" id="password" type="number" name="mobileNumber" required placeholder="Mobile number" maxlength="10">
        </div>
        <div class="form-group">
            <input type="button" class="btn btn-primary btn-block" onclick="confirmUser();" value="Confirm">
        </div>
    </form>
    <br>
    <form id="resetPasswordForm">
        <input type="text" name="username" id="resetusername" hidden>
        <div class="form-group">
            <label for="newpassword">Enter password:</label>
            <input class="form-control form-control-lg" id="newpassword" placeholder="Enter password" type="password" name="password" required>
        </div>
        <div class="form-group">
            <label for="newpassword1">Confirm password:</label>
            <input class="form-control form-control-lg" id="newpassword1" placeholder="Confirm password" type="password" name="confirmPassword" required>
        </div>
        <div class="">
            <input type="button" class="btn btn-primary btn-block" onclick="resetPassword();" value="Reset password">
        </div>
    </form>
</div>

<script type="text/javascript" src="js/forgotpass.js"></script>
<script>
    /*$("#resetPasswordForm").hide();
    function confirmUser() {
        $.ajax({
            type: "POST",
            url: 'confirmuser',
            data: $("#forgotPasswordForm").serializeArray(),
            contentType: "application/json",
            success: function (response) {
                if( response ){
                    $("#resetPasswordForm").show();
                }
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    }

    function resetPassword() {
        var password = $('input[name="password"]').val();
        var confirmPassword = $('input[name="confirmPassword"]').val();

        if (password !== confirmPassword ) {
            $.toast({
                title: 'Reset password',
                // subtitle: '11 mins ago',
                content: 'Confirm password does not match!',
                type: 'error',
                container: $("#forgotPasswordForm"),
                delay: 5000
            });
        } else {
            $.ajax({
                type: "POST",
                url: 'registration',
                data: JSON.stringify($("#resetPasswordForm").serializeArray()),
                contentType: "application/json",
                success: function (response) {
                    alert('User "' + response.toUpperCase() + '" password updated. Please login!');
                    window.location.href = "login.html";
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });
        }
    }*/
</script>
</body>
</html>